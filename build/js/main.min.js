var UAlberta=UAlberta||{};!function(UAlberta){!function(FrontEnd){!function(Pages){function createBase(data){UAlberta.FrontEnd.Modules.addBlade(data.blade),UAlberta.FrontEnd.Modules.addBanner(data.banner),UAlberta.FrontEnd.Modules.addGlobalNavigation(data.navigation),UAlberta.FrontEnd.Modules.addMobileNavigation(data.navigation),UAlberta.FrontEnd.Modules.addInstitutionalFooter(data.ualbertaFooter)}function createInstitutionalBase(){$.getJSON("assets/data/base_institutional.json",null,createBase).fail(function(d,textStatus,error){console.error("getJSON failed, status: "+textStatus+", error: "+error)})}function createFacultyBase(){$.getJSON("assets/data/base_faculty.json",null,createBase).fail(function(d,textStatus,error){console.error("getJSON failed, status: "+textStatus+", error: "+error)})}function createInstitutionalHomePage(){createInstitutionalBase(),UAlberta.FrontEnd.Modules.addInstitutionalHomeLayout()}Pages.createInstitutionalBase=createInstitutionalBase,Pages.createFacultyBase=createFacultyBase,Pages.createInstitutionalHomePage=createInstitutionalHomePage}(FrontEnd.Pages||(FrontEnd.Pages={}));FrontEnd.Pages;!function(Modules){function Module(id,type,template,data,placeholder,options){this.type=type,this.placeholder=placeholder,this.template=template,this.data=data,this.id=id,this.options=options,this.el=$(template(data)),this.add=function(){$(this.placeholder).append(this.el)},this.remove=function(){this.el.remove()},this.add()}function addModule(id,type,template,data,placeholder,options){pageModules.push(new Module(id,type,template,data,placeholder,options))}function addBlade(data,options){var placeholder="header",template=UAlberta.FrontEnd.templates["blade.hbs"],data=data;addModule("blade","blade",template,data,placeholder,options),$("body").on("click",function(e){$("#ql").hasClass("open")&&($("#ql").removeClass("open"),e.stopPropagation())}),$("#ql-toggle").on("click",function(e){$("#ql").toggleClass("open"),e.stopPropagation()})}function addBanner(data,options){var placeholder="header",template=UAlberta.FrontEnd.templates["banner.hbs"],data=data;addModule("banner","banner",template,data,placeholder,options)}function addGlobalNavigation(data,options){var placeholder="header",template=UAlberta.FrontEnd.templates["global-navigation.hbs"],data=data;addModule("global-nav","global-nav",template,data,placeholder,options)}function addMobileNavigation(data,options){var placeholder="header",template=UAlberta.FrontEnd.templates["mobile-navigation.hbs"],data=data;addModule("mobile-nav","mobile-nav",template,data,placeholder,options),$("body").on("click",function(e){$(".nav-wrapper").hasClass("on")&&($(".nav-wrapper").removeClass("on"),e.stopPropagation())}),$(".navigation-toggle").on("click",function(e){$(".nav-wrapper").toggleClass("on"),e.stopPropagation()})}function addInstitutionalHomeLayout(){var template=UAlberta.FrontEnd.templates["ualberta-home.hbs"];addModule("layout"+(pageModules.length+1),"layout",template,{},"#content-wrapper",{})}function addExploreBar(parent){var template=UAlberta.FrontEnd.templates["explore-bar.hbs"];addModule("explore-bar"+(pageModules.length+1),"explore-bar",template,{},parent,{}),$("#explore-bar").flexslider({animation:"slide",itemWidth:93,minItems:3,maxItems:7,itemMargin:0,controlNav:!1,slideshow:!1,animationLoop:!0,prevText:"",nextText:"",touch:!0})}function addWhyUAlbertaRow(parent){var template=UAlberta.FrontEnd.templates["why-ualberta-row.hbs"];addModule("why"+(pageModules.length+1),"why",template,{},parent,{})}function addSingleFeature(data,parent,options){var template=UAlberta.FrontEnd.templates["single-feature.hbs"];addModule("single-feature-"+(pageModules.length+1),"single-feature",template,data,parent,options)}function addDataList(data,parent,options){var template=UAlberta.FrontEnd.templates["data-list.hbs"];addModule("data-list-"+(pageModules.length+1),"data-list",template,data,parent,options)}function addSidebarContentItem(data,parent,options){var template=UAlberta.FrontEnd.templates["sidebar-content.hbs"];addModule("sidebar-content-"+(pageModules.length+1),"sidebar-content",template,data,parent,options)}function addSidebarSocialMedia(data,parent,options){var template=UAlberta.FrontEnd.templates["sidebar-social-media.hbs"];addModule("sidebar-social-media-"+(pageModules.length+1),"sidebar-social-media",template,data,parent,options)}function addInstitutionalFooter(data,options){var placeholder="footer",template=UAlberta.FrontEnd.templates["institutional-footer.hbs"],data=data;addModule("institutional-footer","institutional-footer",template,data,placeholder,options)}var pageModules=new Array;Modules.addBlade=addBlade,Modules.addBanner=addBanner,Modules.addGlobalNavigation=addGlobalNavigation,Modules.addMobileNavigation=addMobileNavigation,Modules.addInstitutionalHomeLayout=addInstitutionalHomeLayout,Modules.addExploreBar=addExploreBar,Modules.addWhyUAlbertaRow=addWhyUAlbertaRow,Modules.addSingleFeature=addSingleFeature,Modules.addDataList=addDataList,Modules.addSidebarContentItem=addSidebarContentItem,Modules.addSidebarSocialMedia=addSidebarSocialMedia,Modules.addInstitutionalFooter=addInstitutionalFooter}(FrontEnd.Modules||(FrontEnd.Modules={}));FrontEnd.Modules}(UAlberta.FrontEnd||(UAlberta.FrontEnd={}));UAlberta.FrontEnd}(UAlberta||(UAlberta={}));